version: '3.8'

services:
  youtube-mp3:
    build: .
    container_name: youtube-mp3-downloader
    volumes:
      # Directorio para las descargas (persistente)
      - ./downloads:/app/downloads
      # Directorio para los logs (persistente)
      - ./logs:/app/logs
      # Archivo CSV de URLs (si existe)
      - ./urls.csv:/app/urls.csv:ro
    environment:
      - PYTHONUNBUFFERED=1
      - PYTHONIOENCODING=utf-8
    # Comando por defecto - se puede sobrescribir
    command: ["--help"]
    # Opcional: recursos limitados
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '1.0'